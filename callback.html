<script>
  // Get token from hash or query string
  function getToken() {
    const hash = window.location.hash;
    const query = window.location.search;

    const fromHash = new URLSearchParams(hash.substring(1)).get("token") ||
                     new URLSearchParams(hash.substring(1)).get("access_token");
    
    const fromQuery = new URLSearchParams(query).get("token") ||
                      new URLSearchParams(query).get("access_token");

    return fromHash || fromQuery;
  }

  const token = getToken();

  if (token) {
    document.getElementById("status").innerText = "Your token is: " + token;
  } else {
    document.getElementById("status").innerText = "Token not found (undefined)";
  }
</script>
